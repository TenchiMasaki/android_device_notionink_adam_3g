diff --git a/Android.mk b/Android.mk
old mode 100644
new mode 100755
diff --git a/roots.cpp b/roots.cpp
old mode 100644
new mode 100755
index ee14016..1d2fd9d
--- a/roots.cpp
+++ b/roots.cpp
@@ -32,7 +32,7 @@
 #include "make_ext4fs.h"
 extern "C" {
 #include "wipe.h"
-#include "cryptfs.h"
+//#include "cryptfs.h"
 }
 
 static struct fstab *fstab = NULL;
@@ -228,7 +228,7 @@ int format_volume(const char* volume) {
         if (v->length != 0) {
             length = v->length;
         } else if (v->key_loc != NULL && strcmp(v->key_loc, "footer") == 0) {
-            length = -CRYPT_FOOTER_OFFSET;
+            length = 0; //-CRYPT_FOOTER_OFFSET;
         }
         int result;
         if (strcmp(v->fs_type, "ext4") == 0) {
diff --git a/updater/Android.mk b/updater/Android.mk
old mode 100644
new mode 100755
index 11e7bb8..5052f37
--- a/updater/Android.mk
+++ b/updater/Android.mk
@@ -19,7 +19,7 @@ LOCAL_MODULE_TAGS := eng
 
 LOCAL_SRC_FILES := $(updater_src_files)
 
-ifeq ($(TARGET_USERIMAGES_USE_EXT4), true)
+#ifeq ($(TARGET_USERIMAGES_USE_EXT4), true)
 LOCAL_CFLAGS += -DUSE_EXT4
 LOCAL_CFLAGS += -Wno-unused-parameter
 LOCAL_C_INCLUDES += system/extras/ext4_utils
@@ -27,7 +27,7 @@ LOCAL_STATIC_LIBRARIES += \
     libext4_utils_static \
     libsparse_static \
     libz
-endif
+#endif
 
 LOCAL_STATIC_LIBRARIES += $(TARGET_RECOVERY_UPDATER_LIBS) $(TARGET_RECOVERY_UPDATER_EXTRA_LIBS)
 LOCAL_STATIC_LIBRARIES += libapplypatch libedify libmtdutils libminzip libz
