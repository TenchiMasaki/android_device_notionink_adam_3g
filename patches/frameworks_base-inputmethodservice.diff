project frameworks/base/
diff --git a/core/java/android/inputmethodservice/IInputMethodWrapper.java b/core/java/android/inputmethodservice/IInputMethodWrapper.java
index 857e335..acb88eb 100644
--- a/core/java/android/inputmethodservice/IInputMethodWrapper.java
+++ b/core/java/android/inputmethodservice/IInputMethodWrapper.java
@@ -278,6 +278,10 @@ class IInputMethodWrapper extends IInputMethod.Stub
     @Override
     public void setSessionEnabled(IInputMethodSession session, boolean enabled) {
         try {
+			if (session == null) {
+                Log.w(TAG, "No Session");
+                return;
+			}
             InputMethodSession ls = ((IInputMethodSessionWrapper)
                     session).getInternalInputMethodSession();
             if (ls == null) {
